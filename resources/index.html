<ul id="list" style="list-style-type:none;padding:0;position:fixed;bottom: 40px"></ul>
<ul style="position:fixed;bottom: 0px;left:0px;list-style-type:none;padding-bottom:0;padding-left:0;padding-top:0;padding-right:0;width: 49.8%; margin-bottom: 1px">
    <li style="margin-bottom: 2px">
        <button type="button" onclick="
window.parent.postMessage({
    type: 'pause'
    }, '*');
" style="width: 100%">Pause</button>
    </li>
    <li>
        <button type="button" onclick="
window.parent.postMessage({
    type: 'click3'
    }, '*');
" style="width: 100%">Click 3!</button>
    </li>
</ul>
<ul style="position:fixed;bottom: 0px;right:0px;list-style-type:none;padding-bottom:0;padding-left:0;padding-top:0;padding-right:0;width: 49.8%;margin-bottom: 1px">
    <li style="margin-bottom: 2px">
        <button type="button" onclick="
window.parent.postMessage({
    type: 'click2'
    }, '*');
" style="width: 100%">Click 2!</button>
    </li>
    <li>
        <button type="button" onclick="
window.parent.postMessage({
    type: 'click4'
    }, '*');
" style="width: 100%">Click 4!</button>
    </li>
</ul>

<script>
    function filterLine(line, li) {
        let split = line.split('\n');
        let first = true;
        for (let item of split) {
            if (first === false) {
                li.appendChild(document.createElement('br'));
            }
            first = false;
            li.appendChild(document.createTextNode(item));
        }
    }

    function addPrint(message) {
        let ul = document.getElementById("list");
        let li = document.createElement("li");
        li.style.fontFamily = '"Courier New", Courier, monospace'
        filterLine(message.line, li);
        let str = JSON.stringify(message);
        li.dataset.message = str;
        li.dataset.type = 'print';
        ul.appendChild(li);
    }

    function addError(message, type) {
        let ul = document.getElementById("list");
        let li = document.createElement("li");
        li.style.fontFamily = '"Courier New", Courier, monospace'
        filterLine(message.details, li);
        let str = JSON.stringify(message);
        li.dataset.expanded = false;
        li.dataset.message = str;
        if (type === 'warning') {
            li.style.color = 'Yellow';
            li.dataset.type = 'warning';
        } else {
            li.style.color = 'Red';
            li.dataset.type = 'error';
        }
        li.onclick = () => {
            if (li.dataset.expanded === 'true') {
                // shrink
                li.dataset.expanded = false;
                let parsed = JSON.parse(li.dataset.message);
                li.innerHTML = '';
                filterLine(message.details, li);
            } else {
                // expand
                li.dataset.expanded = true;
                li.innerHTML = '';
                li.appendChild(document.createTextNode('This is going to be expanded'));
            }
        };
        ul.appendChild(li);
    }

    window.addEventListener('message', event => {
        if (event.data.type === 'print') {
            addPrint(event.data.message);
            document.body.scrollTop = document.body.scrollHeight
        } else if (event.data.type === 'warning') {
            addError(event.data.message, 'warning');
            document.body.scrollTop = document.body.scrollHeight
        } else if (event.data.type === 'error') {
            addError(event.data.message, 'error');
            document.body.scrollTop = document.body.scrollHeight
        } else if (event.data.type === 'clear') {
            document.getElementById("list").innerHTML = "";
        }
    });
</script>